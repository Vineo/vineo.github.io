var usclUtility=function(){var t={checkIE:function(){return Boolean(document.all&&(!document.documentMode||document.documentMode&&document.documentMode<10))},hasObj:function(t,n){var e=void 0==n;return void 0!==t&&null!=t&&(!!e||n in t)},closestParent:function(t,n){if(!t.classList.contains(n))for(;(t=t.parentElement)&&!t.classList.contains(n););return t},checkInObject:function(t,n){var e=null;for(var i in t)if(t.hasOwnProperty(i)){if(i===n){e=t[i];break}if(t[i]&&"object"==typeof t[i]){var o=this.checkInObject(t[i],n);if(o){e=o;break}}}return e},bitShiftByKey:function(t,n){for(var e="",i=0;i<t.length;i++){var o=n.substr(-1);e+=String.fromCharCode(t[i].charCodeAt(0)^o.charCodeAt(0)),n=o+n.substr(0,n.length-1)}return e},getVersion:function(t){var n="?v=",e="";return"undefined"!=typeof t&&(e=String(n+t)),e},randomString:function(t){for(var n="0123456789",e="",i=0;i<t;i++){var o=Math.floor(Math.random()*n.length);e+=n.substring(o,o+1)}return e},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}};return{tool:t}}(),usclHost=function(){function t(){var t=document.querySelector("script[data-script=usocial]").getAttribute("src"),n=t.split("/"),e=[].concat(n[0],n[1],n[2]).join("/");return e}return{init:t}}(),uFingerPrint=function(){function t(t){var n=document.createElement("script"),e=document.getElementsByTagName("body")[0],i=document.getElementsByTagName("head")[0];n.async=!0,n.type="text/javascript",n.charset="UTF-8",n.src=usclHost.init()+"/usocial/fingerprint2.min.js","undefined"==typeof e?i.appendChild(n):e.appendChild(n),n.onload=function(){t()}}function n(){return i}function e(n){t(function(){var t=new Fingerprint2;t.get(function(t){i=t,"undefined"!=typeof n&&n()})})}var i;return{init:e,getFpUsocialUser:n}}(),uPixel=function(){function t(t,n,e){var i=usclHost.init()+"/logs/store-view",o="&c="+usclUtility.tool.randomString(7),r="",u="",s="";if("undefined"==typeof i||null==i||""==i)throw new Error("Некорректный URL пикселя");if("referrer"in document&&(u=document.referrer),"undefined"!=typeof u&&null!=u&&""!=u&&(o=o+"&r="+encodeURIComponent(u)),o=o+"&pid="+t,o=o+"&usocialUser="+uFingerPrint.getFpUsocialUser(),o=o+"&pType="+n.toLowerCase(),o=o+"&url="+document.URL,void 0!==e)switch(n){case"publicpopup":o=o+"&popupOpenType="+e;break;case"share":case"like":o=o+"&barDisplayStatus="+e}r=s.indexOf("?")!=-1?i+"&"+o:i+"?"+o;var c=document.createElement("img");c.setAttribute("id","usocial-pixel"),c.setAttribute("src",r),c.style.height="0px",c.style.width="0px",c.style.display="none",document.body.appendChild(c)}function n(n,e,i){t(n,e,i)}return{init:n}}(),uCookies=function(){function t(t){var n=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):void 0}function n(t,n,e){e=e||{};var i=e.expires;if("number"==typeof i&&i){var o=new Date;o.setTime(o.getTime()+1e3*i),i=e.expires=o}i&&i.toUTCString&&(e.expires=i.toUTCString()),n=encodeURIComponent(n);var r=t+"="+n;for(var u in e){r+="; "+u;var s=e[u];s!==!0&&(r+="="+s)}document.cookie=r}return{getCookie:t,setCookie:n}}(),checkDevice=function(){var t={userAgent:window.navigator.userAgent.toLowerCase(),ios:function(){return this.iphone()||this.ipod()||this.ipad()},mobileSafari:function(){return/safari/.test(navigator.userAgent.toLowerCase())&&!/chrome/.test(navigator.userAgent.toLowerCase())},mobileChrome:function(){return/chrome/.test(navigator.userAgent.toLowerCase())&&!/version/.test(navigator.userAgent.toLowerCase())},iphone:function(){return this.find("iphone")},ipod:function(){return this.find("ipod")},ipad:function(){return this.find("ipad")},android:function(){return this.find("android")},androidVersion:function(){return navigator.userAgent.toLowerCase().match(/android (\d+(?:\.\d+))/)[0].replace("android ","")},androidPhone:function(){return this.android()&&this.find("mobile")},androidTablet:function(){return this.android()&&!this.find("mobile")},blackberry:function(){return this.find("blackberry")||this.find("bb10")||this.find("rim")},blackberryPhone:function(){return this.blackberry()&&!this.find("tablet")},blackberryTablet:function(){return this.blackberry()&&this.find("tablet")},windows:function(){return this.find("windows")},windowsPhone:function(){return this.windows()&&this.find("phone")},windowsTablet:function(){return this.windows()&&this.find("touch")},fxos:function(){return this.find("(mobile; rv:")||this.find("(tablet; rv:")},fxosPhone:function(){return this.fxos()&&this.find("mobile")},fxosTablet:function(){return this.fxos()&&this.find("tablet")},mobile:function(){return this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()||this.fxosPhone()},tablet:function(){return this.ipad()||this.androidTablet()||this.blackberryTablet()||this.windowsTablet()||this.fxosTablet()},portrait:function(){return window.innerHeight>window.innerWidth},landscape:function(){return window.innerHeight<window.innerWidth},find:function(t){return this.userAgent.indexOf(t)!==-1}};return{device:t}}(),scrollToTop=function(){function t(t,e){var i=document.documentElement;if(0===i.scrollTop){var o=i.scrollTop;++i.scrollTop,i=o+1===i.scrollTop--?i:document.body}n(i,i.scrollTop,t,e)}function n(t,n,o,r){r<0||("object"==typeof n&&(n=n.offsetTop),"object"==typeof o&&(o=o.offsetTop),e(t,n,o,0,1/r,20,i))}function e(t,n,i,o,r,u,s){o<0||o>1||r<=0||(t.scrollTop=n-(n-i)*s(o),o+=r*u,setTimeout(function(){e(t,n,i,o,r,u,s)},u))}function i(t){return t--,t*t*t+1}function o(n,e){t(n,e)}return{init:o}}(),sendEventRequest=function(){function t(t,n,i){var i=i||!1,o=uCookies.getCookie("usocialUser2"),r={},u="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest,s=new u;r=n,r.type=t,r.usocialUser=e,r.usocialUser2=o,r.url=document.URL,i===!0&&(r.isSecondRequest=!0),s.open("POST",usclHost.init()+"/logs/event-handler",!0),s.onload=function(){203===this.status&&(uCookies.setCookie("usocialUser2",usclUtility.tool.bitShiftByKey(e,s.response),{expires:31536e3,path:"/"}),sendEventRequest.init(t,n,!0))},s.onerror=function(){throw new Error(this.status)},s.send(JSON.stringify(r))}function n(n,i,o){e=uFingerPrint.getFpUsocialUser(),t(n,i,o)}var e;return{init:n}}(),uSocial=function(t){function n(t,n,e){var i=document.createElement("script"),o=document.getElementsByTagName("body")[0],r=document.getElementsByTagName("head")[0];i.async=!0,i.type="text/javascript",i.charset="UTF-8",i.src=usclHost.init()+t+"?js="+n,"undefined"==typeof o?r.appendChild(i):o.appendChild(i),i.onload=function(){e()}}function e(){"init"!==window.uSocialShareInit&&"undefined"==typeof window.uSocialShareInit&&u&&(window.uSocialShareInit="init",n("/usocial/usocial.share.js",t,function(){uSocialShare.init()}))}function i(){"init"!==window.uSocialLikeInit&&"undefined"==typeof window.uSocialLikeInit&&s&&(window.uSocialLikeInit="init",n("/usocial/usocial.like.js",t,function(){uSocialLike.init()}))}function o(){u=document.querySelectorAll('[data-social][data-options][data-type="share"]').length>0,s=document.getElementsByClassName("uSocial-Like").length>0,e(),i()}function r(){function t(){"complete"==document.readyState&&o()}usclUtility.tool.checkIE()?document.onreadystatechange=t:"loading"==document.readyState?document.addEventListener("DOMContentLoaded",o):o()}var u,s;return{init:r}}("6.1.1");uSocial.init();